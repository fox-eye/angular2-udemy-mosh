<form [ngFormModel]="form" id="change-password" (ngSubmit)="changePassword()">
  {{ newPassword.errors|json }}
  <div class="form-group">
    <label for="name">Old password</label>
    <input
      ngControl="oldPassword"
      #oldPassword="ngForm"
      id="name"
      class="form-control"
      type="password"
    />
    <div class="alert alert-danger" *ngIf="oldPassword.touched && oldPassword.errors">
      <div *ngIf="oldPassword.errors.required">Old password is required.</div>
      <div *ngIf="oldPassword.errors.validOldPassword">Old password is not valid</div>
    </div>
  </div>

  <div class="form-group">
    <label for="new-password">New password</label>
    <input
      ngControl="newPassword"
      #newPassword="ngForm" id="new-password"
      class="form-control"
      type="password"
    />
    <div class="alert alert-danger" *ngIf="newPassword.touched && newPassword.errors">
      <div *ngIf="newPassword.errors.required">Please give a new password.</div>
      <div *ngIf="newPassword.errors.passwordComplexity">Please give a password greater than {{ newPassword.errors.passwordComplexity.minLength }} characters</div>
    </div>
  </div>

  <div class="form-group">
    <label for="confirm-password">Confirm password</label>
    <input
      ngControl="confirmPassword"
      #confirmPassword="ngForm"
      id="confirm-password"
      class="form-control"
      type="password"
    />
      <div class="alert alert-danger"*ngIf="confirmPassword.touched && !confirmPassword.valid">Please confirm your password.</div>
    <div class="alert alert-danger" *ngIf="confirmPassword.touched && form.errors && form.errors.unmatchingPasswords" class="alert alert-danger">Passwords does not match!</div> 
  </div>
  <input class="btn btn-primary" type="submit" value="Change password" [disabled]="!form.valid">
</form>

